<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mutil.lib.qt &mdash; Maya open source Python/Qt tools 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Maya open source Python/Qt tools 1.0 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">Maya open source Python/Qt tools 1.0 documentation</a> &raquo;</li>
          <li><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for mutil.lib.qt</h1><div class="highlight"><pre>
<span class="n">__author__</span> <span class="o">=</span> <span class="s">&#39;Nathan&#39;</span>


<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">inspect</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">__main__</span>

<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span><span class="p">,</span> <span class="n">update_wrapper</span>

<span class="n">qt_lib</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">has_maya</span> <span class="o">=</span> <span class="bp">False</span>
<span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
	<span class="c">#Attempt to load in PyQt first, as it&#39;s the preferred library as of 2014 still.</span>
	<span class="kn">import</span> <span class="nn">sip</span>
	<span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s">&#39;QString&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
	<span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s">&#39;QVariant&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

	<span class="kn">from</span> <span class="nn">PyQt4</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">uic</span>
	<span class="n">qt_lib</span> <span class="o">=</span> <span class="s">&#39;pyqt&#39;</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
	<span class="c">#PyQt failed to load, give PySide a shot</span>
	<span class="kn">import</span> <span class="nn">shiboken</span>
	<span class="kn">import</span> <span class="nn">PySide</span>
	<span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>
	<span class="kn">import</span> <span class="nn">pysideuic</span> <span class="kn">as</span> <span class="nn">uic</span>
	<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="kn">as</span> <span class="nn">xml</span>
	<span class="kn">from</span> <span class="nn">cStringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>

	<span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Signal</span>
	<span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Slot</span>

	<span class="n">qt_lib</span> <span class="o">=</span> <span class="s">&#39;pyside&#39;</span>


<span class="k">try</span><span class="p">:</span>
	<span class="c">#Try to load maya...</span>
	<span class="kn">import</span> <span class="nn">maya.cmds</span> <span class="kn">as</span> <span class="nn">cmds</span>
	<span class="k">if</span> <span class="n">cmds</span><span class="o">.</span><span class="n">internalVar</span><span class="p">(</span><span class="n">upd</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
		<span class="k">raise</span> <span class="ne">SystemError</span><span class="p">(</span><span class="s">&#39;Standalone uninitialized&#39;</span><span class="p">)</span>

	<span class="kn">import</span> <span class="nn">maya</span>
	<span class="kn">import</span> <span class="nn">maya.mel</span> <span class="kn">as</span> <span class="nn">mel</span>
	<span class="kn">import</span> <span class="nn">maya.OpenMaya</span> <span class="kn">as</span> <span class="nn">api</span>
	<span class="kn">import</span> <span class="nn">maya.OpenMayaUI</span> <span class="kn">as</span> <span class="nn">apiUI</span>

	<span class="c">#Define Callback function to handle our callback wrapper</span>
	<span class="n">mel</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s">&quot;global proc Callback(string $description){};&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="p">(</span><span class="ne">ImportError</span><span class="p">,</span> <span class="ne">SystemError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
	<span class="n">has_maya</span> <span class="o">=</span> <span class="bp">False</span>


<div class="viewcode-block" id="loadUiFile"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.loadUiFile">[docs]</a><span class="k">def</span> <span class="nf">loadUiFile</span><span class="p">(</span><span class="n">uiPath</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Load a designer UI xml file in</span>

<span class="sd">	:param uiPath: Either the relative path to the module calling this function,</span>
<span class="sd">	 or a full path to a file on disk. Can be a partial path. Does not need the .ui extension.</span>
<span class="sd">	:type uiPath: str</span>
<span class="sd">	:return Window Class defined by the input UI file</span>
<span class="sd">	:rtype DesignerForm</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="c">#Add extension if missing..</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="n">uiPath</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;.ui&#39;</span><span class="p">):</span>
		<span class="n">uiPath</span> <span class="o">+=</span> <span class="s">&#39;.ui&#39;</span>

	<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">uiPath</span><span class="p">):</span>
		<span class="c">#Resolve partial path into full path based on the call stack</span>
		<span class="n">frame</span><span class="o">=</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">()</span><span class="o">.</span><span class="n">f_back</span>  <span class="c">#Back up one from the current frame</span>
		<span class="n">modpath</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_filename</span>  <span class="c">#Grab the filename from the code object</span>
		<span class="n">base_directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">modpath</span><span class="p">)</span>

		<span class="n">resolvePath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_directory</span><span class="p">,</span> <span class="n">uiPath</span><span class="p">)</span>

		<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">resolvePath</span><span class="p">):</span>
			<span class="n">uiPath</span> <span class="o">=</span> <span class="n">resolvePath</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&#39;Could not locate UI file at path: </span><span class="si">%s</span><span class="s">&#39;</span><span class="o">%</span><span class="n">uiPath</span><span class="p">)</span>

	<span class="c">#Load the form class, and establish what the base class for the top level is in order to sub-class it</span>
	<span class="k">if</span> <span class="n">qt_lib</span> <span class="o">==</span> <span class="s">&#39;pyqt&#39;</span><span class="p">:</span>
		<span class="c">#This step is easy with PyQt</span>
		<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">uiPath</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
			<span class="n">form_class</span><span class="p">,</span> <span class="n">base_class</span> <span class="o">=</span> <span class="n">uic</span><span class="o">.</span><span class="n">loadUiType</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

	<span class="k">elif</span> <span class="n">qt_lib</span> <span class="o">==</span> <span class="s">&#39;pyside&#39;</span><span class="p">:</span>
		<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		Pyside lacks the &quot;loadUiType&quot; command :(</span>
<span class="sd">		so we have to convert the ui file to py code in-memory first</span>
<span class="sd">		and then execute it in a special frame to retrieve the form_class.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">parsed</span> <span class="o">=</span> <span class="n">xml</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">uiPath</span><span class="p">)</span>
		<span class="n">widget_class</span> <span class="o">=</span> <span class="n">parsed</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;widget&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;class&#39;</span><span class="p">)</span>
		<span class="n">form_class</span> <span class="o">=</span> <span class="n">parsed</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;class&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>

		<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">uiPath</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
			<span class="n">o</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
			<span class="n">frame</span> <span class="o">=</span> <span class="p">{}</span>

			<span class="c">#Compile to StringIO object</span>
			<span class="n">uic</span><span class="o">.</span><span class="n">compileUi</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
			<span class="n">pyc</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">getvalue</span><span class="p">(),</span> <span class="s">&#39;&lt;string&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;exec&#39;</span><span class="p">)</span>
			<span class="k">exec</span> <span class="n">pyc</span> <span class="ow">in</span> <span class="n">frame</span>

			<span class="c">#Fetch the base_class and form class based on their type in the xml from designer</span>
			<span class="n">form_class</span> <span class="o">=</span> <span class="n">frame</span><span class="p">[</span><span class="s">&#39;Ui_</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">form_class</span><span class="p">]</span>
			<span class="n">base_class</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s">&#39;QtGui.</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">widget_class</span><span class="p">)</span>

	<span class="k">class</span> <span class="nc">DesignerForm</span><span class="p">(</span><span class="n">form_class</span><span class="p">,</span> <span class="n">base_class</span><span class="p">):</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">DesignerForm</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="c">#Now run the setupUi function for the user</span>
			<span class="c">#self.settings = getSettings(self.appname, self)</span>
			<span class="n">QtGui</span><span class="o">.</span><span class="n">qApp</span><span class="o">.</span><span class="n">aboutToQuit</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>

			<span class="c">#self.__initial_settings = FakeSettings()</span>
			<span class="c">#saveLoadSettings(self, settings=self.__initial_settings)</span>

		<span class="nd">@classmethod</span>
		<span class="k">def</span> <span class="nf">showUI</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
			<span class="n">windows</span> <span class="o">=</span> <span class="n">__main__</span><span class="o">.</span><span class="n">__dict__</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s">&#39;lib.ui.Qt_windows&#39;</span><span class="p">,</span> <span class="p">{})</span>
			<span class="n">widget</span> <span class="o">=</span> <span class="n">windows</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">uiPath</span><span class="p">)</span>
			<span class="n">closeAndCleanup</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>

			<span class="n">windows</span><span class="p">[</span><span class="n">uiPath</span><span class="p">]</span> <span class="o">=</span> <span class="n">cls</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
			<span class="n">windows</span><span class="p">[</span><span class="n">uiPath</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
			<span class="k">return</span> <span class="n">windows</span><span class="p">[</span><span class="n">uiPath</span><span class="p">]</span>

		<span class="nd">@classmethod</span>
		<span class="k">def</span> <span class="nf">closeUI</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
			<span class="n">widget</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">getVisibleInstance</span><span class="p">()</span>
			<span class="n">closeAndCleanup</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>

		<span class="nd">@classmethod</span>
		<span class="k">def</span> <span class="nf">getVisibleInstance</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
			<span class="n">windows</span> <span class="o">=</span> <span class="n">__main__</span><span class="o">.</span><span class="n">__dict__</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s">&#39;lib.ui.Qt_windows&#39;</span><span class="p">,</span> <span class="p">{})</span>
			<span class="n">widget</span> <span class="o">=</span> <span class="n">windows</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">uiPath</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">isValid</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span> <span class="ow">and</span> <span class="n">widget</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
				<span class="k">return</span> <span class="n">widget</span>
			<span class="k">return</span> <span class="bp">None</span>

		<span class="k">def</span> <span class="nf">resetSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">skipGeometry</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">skipWindowState</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
			<span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Resetting window settings!&#39;</span><span class="p">)</span>
			<span class="n">settings</span> <span class="o">=</span> <span class="n">FakeSettings</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__initial_settings</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>

			<span class="k">if</span> <span class="ow">not</span> <span class="n">skipGeometry</span><span class="p">:</span>
				<span class="n">geom</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s">&#39;geometry&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">geom</span><span class="p">:</span>
					<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">&#39;geometry&#39;</span><span class="p">,</span> <span class="n">geom</span><span class="o">.</span><span class="n">moveTo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">topLeft</span><span class="p">()))</span>

			<span class="n">saveLoadSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="n">ignore</span><span class="p">,</span> <span class="n">save</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__initial_settings</span><span class="p">,</span> <span class="n">skipGeometry</span><span class="o">=</span><span class="n">skipGeometry</span><span class="p">,</span> <span class="n">skipWindowState</span><span class="o">=</span><span class="n">skipWindowState</span><span class="p">)</span>

		<span class="k">def</span> <span class="nf">saveSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
			<span class="n">saveLoadSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">loadSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
			<span class="n">saveLoadSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ignore</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">saveWindowState</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="s">&#39;Save position/size of window&#39;</span>
			<span class="n">saveLoadSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">windowStateOnly</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">loadWindowState</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="s">&#39;Load position/size of window&#39;</span>
			<span class="n">saveLoadSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">windowStateOnly</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
		<span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">pyside</span><span class="p">:</span>
				<span class="k">if</span> <span class="n">sip</span><span class="o">.</span><span class="n">isdeleted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
					<span class="k">return</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="n">base_class</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
				<span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__initial_settings</span>
			<span class="k">except</span><span class="p">:</span>
				<span class="k">pass</span>

	<span class="n">WindowClass</span><span class="o">.</span><span class="n">appname</span> <span class="o">=</span> <span class="n">appname</span>
	<span class="k">return</span> <span class="n">WindowClass</span>




<span class="c">###-----------------------------------###</span>
<span class="c">###Convience functions to help with Qt###</span>
<span class="c">###-----------------------------------###</span></div>
<div class="viewcode-block" id="getFocusWidget"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.getFocusWidget">[docs]</a><span class="k">def</span> <span class="nf">getFocusWidget</span><span class="p">():</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Get the currently focused widget</span>

<span class="sd">	:return: Widget with focus currently</span>
<span class="sd">	:rtype: QtGui.QWidget or None</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">return</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">qApp</span><span class="o">.</span><span class="n">focusWidget</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="getWidgetAtMouse"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.getWidgetAtMouse">[docs]</a><span class="k">def</span> <span class="nf">getWidgetAtMouse</span><span class="p">():</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Get the widget under the mouse</span>

<span class="sd">	:return: QtGui.QWidget or None</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">currentPos</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCursor</span><span class="p">()</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span>
	<span class="n">widget</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">qApp</span><span class="o">.</span><span class="n">widgetAt</span><span class="p">(</span><span class="n">currentPos</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">widget</span>

</div>
<div class="viewcode-block" id="qrcToPythonRc"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.qrcToPythonRc">[docs]</a><span class="k">def</span> <span class="nf">qrcToPythonRc</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Given a path to a qrc file, create the target file</span>
<span class="sd">	This also tries to checkout the file from perforce if it can.</span>

<span class="sd">	:param path: Qrc file path to compile</span>
<span class="sd">	:type path: str</span>
<span class="sd">	:param target: Target path for compiled python RC file</span>
<span class="sd">	:type target: str</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">qt_lib_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">__file__</span><span class="p">)</span>
	<span class="n">rcc_exe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">qt_lib_root</span><span class="p">,</span> <span class="s">&#39;bin&#39;</span><span class="p">,</span> <span class="s">&#39;pyrcc4.exe&#39;</span><span class="p">)</span>
	<span class="n">proc</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="n">rcc_exe</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">&#39;-o&#39;</span><span class="p">,</span> <span class="n">target</span><span class="p">],</span> <span class="n">shell</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
	<span class="n">proc</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="wrapinstance"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.wrapinstance">[docs]</a><span class="k">def</span> <span class="nf">wrapinstance</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Utility to convert a pointer to a Qt class instance</span>

<span class="sd">	:param ptr: Pointer to QObject in memory</span>
<span class="sd">	:type ptr: long or Swig instance</span>
<span class="sd">	:param base: (Optional) Base class to wrap with (Defaults to QObject, which should handle anything)</span>
<span class="sd">	:type base: QtGui.QWidget</span>
<span class="sd">	:return: QWidget or subclass instance</span>
<span class="sd">	:rtype: QtGui.QWidget</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">ptr</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
		<span class="k">return</span> <span class="bp">None</span>
	<span class="n">ptr</span> <span class="o">=</span> <span class="nb">long</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>  <span class="c">#Ensure type</span>
	<span class="k">if</span> <span class="n">qt_lib</span> <span class="o">==</span> <span class="s">&#39;pyqt&#39;</span><span class="p">:</span>
		<span class="n">base</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QObject</span>
		<span class="k">return</span> <span class="n">sip</span><span class="o">.</span><span class="n">wrapinstance</span><span class="p">(</span><span class="nb">long</span><span class="p">(</span><span class="n">ptr</span><span class="p">),</span> <span class="n">base</span><span class="p">)</span>
	<span class="k">elif</span> <span class="n">qt_lib</span> <span class="o">==</span> <span class="s">&#39;pyside&#39;</span><span class="p">:</span>
		<span class="c">#Pyside makes this a pain for us, since unlike Pyqt it does not return the &quot;best&quot; matching class automatically</span>
		<span class="k">if</span> <span class="n">base</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
			<span class="n">qObj</span> <span class="o">=</span> <span class="n">shiboken</span><span class="o">.</span><span class="n">wrapInstance</span><span class="p">(</span><span class="nb">long</span><span class="p">(</span><span class="n">ptr</span><span class="p">),</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QObject</span><span class="p">)</span>
			<span class="n">metaObj</span> <span class="o">=</span> <span class="n">qObj</span><span class="o">.</span><span class="n">metaObject</span><span class="p">()</span>
			<span class="n">cls</span> <span class="o">=</span> <span class="n">metaObj</span><span class="o">.</span><span class="n">className</span><span class="p">()</span>
			<span class="n">superCls</span> <span class="o">=</span> <span class="n">metaObj</span><span class="o">.</span><span class="n">superClass</span><span class="p">()</span><span class="o">.</span><span class="n">className</span><span class="p">()</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">QtGui</span><span class="p">,</span> <span class="n">cls</span><span class="p">):</span>
				<span class="n">base</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">QtGui</span><span class="p">,</span> <span class="n">cls</span><span class="p">)</span>
			<span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">QtGui</span><span class="p">,</span> <span class="n">superCls</span><span class="p">):</span>
				<span class="n">base</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">QtGui</span><span class="p">,</span> <span class="n">superCls</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">base</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span>
		<span class="k">return</span> <span class="n">shiboken</span><span class="o">.</span><span class="n">wrapInstance</span><span class="p">(</span><span class="nb">long</span><span class="p">(</span><span class="n">ptr</span><span class="p">),</span> <span class="n">base</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="unwrapinstance"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.unwrapinstance">[docs]</a><span class="k">def</span> <span class="nf">unwrapinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Utility to convert a Qt class instance to a pointer</span>

<span class="sd">	:param obj: Object to unwrap</span>
<span class="sd">	:type obj: Qt Object</span>
<span class="sd">	:return: Unwrapped instance pointer</span>
<span class="sd">	:rtype: long</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
		<span class="k">return</span>
	<span class="k">if</span> <span class="n">qt_lib</span> <span class="o">==</span> <span class="s">&#39;pyqt&#39;</span><span class="p">:</span>
		<span class="k">return</span> <span class="n">sip</span><span class="o">.</span><span class="n">unwrapinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
	<span class="k">elif</span> <span class="n">qt_lib</span> <span class="o">==</span> <span class="s">&#39;pyside&#39;</span><span class="p">:</span>
		<span class="k">return</span> <span class="n">shiboken</span><span class="o">.</span><span class="n">getCppPointer</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="isValid"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.isValid">[docs]</a><span class="k">def</span> <span class="nf">isValid</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Check if a widget is valid in the backend</span>

<span class="sd">	:param widget: QtGui.QWidget</span>
<span class="sd">	:return: True if the widget still has a c++ object</span>
<span class="sd">	:rtype: bool</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
		<span class="k">return</span> <span class="bp">False</span>

	<span class="k">if</span> <span class="n">qt_lib</span> <span class="o">==</span> <span class="s">&#39;pyqt&#39;</span><span class="p">:</span>
		<span class="k">if</span> <span class="n">sip</span><span class="o">.</span><span class="n">isdeleted</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
			<span class="k">return</span> <span class="bp">False</span>
	<span class="k">elif</span> <span class="n">qt_lib</span> <span class="o">==</span> <span class="s">&#39;pyside&#39;</span><span class="p">:</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">shiboken</span><span class="o">.</span><span class="n">isValid</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
			<span class="k">return</span> <span class="bp">False</span>
	<span class="k">return</span> <span class="bp">True</span>

</div>
<div class="viewcode-block" id="closeAndCleanup"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.closeAndCleanup">[docs]</a><span class="k">def</span> <span class="nf">closeAndCleanup</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Call close and deleteLater on a widget safely.</span>
<span class="sd">	.. note::</span>
<span class="sd">		Skips the close call if the widget is already not visible.</span>

<span class="sd">	:param widget:</span>
<span class="sd">	:return:</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">isValid</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
			<span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
				<span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s">&#39;Failed to execute widget close event for: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">widget</span><span class="p">)</span>
		<span class="n">widget</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>


<span class="c">#Settings management</span></div>
<div class="viewcode-block" id="saveLoadSettings"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.saveLoadSettings">[docs]</a><span class="k">def</span> <span class="nf">saveLoadSettings</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">save</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">windowStateOnly</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">skipGeometry</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">skipWindowState</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Save/Load state for a widget and it&#39;s sub-widgets</span>

<span class="sd">	:param widget: Widget to save/load state for</span>
<span class="sd">	:type widget: QtGui.QWidget</span>
<span class="sd">	:param ignore: widgets to ignore</span>
<span class="sd">	:type ignore: list</span>
<span class="sd">	:param save: Save if True, load if False</span>
<span class="sd">	:type save: bool</span>
<span class="sd">	:param windowStateOnly: Save/Load window state only?</span>
<span class="sd">	:type windowStateOnly: bool</span>
<span class="sd">	:param skipGeometry: Skip geometry when saving/loading?</span>
<span class="sd">	:type skipGeometry: bool</span>
<span class="sd">	:param settings: Optional QSettings object to save/load from instead of the default</span>
<span class="sd">	:type settings: QSettings or InitialSettings</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">settings</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
		<span class="k">try</span><span class="p">:</span>
			<span class="n">settings</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">settings</span>
		<span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
			<span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s">&#39;Unable to get settings object from widget and no settings object provided... Unable to save settings!</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
			<span class="k">return</span>

	<span class="k">if</span> <span class="n">skipWindowState</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
		<span class="n">skipWindowState</span> <span class="o">=</span> <span class="n">skipGeometry</span>

	<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">skipGeometry</span><span class="p">:</span>
			<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">&#39;geometry&#39;</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">geometry</span><span class="p">())</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">skipWindowState</span><span class="p">:</span>
			<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">&#39;windowState&#39;</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">saveState</span><span class="p">())</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">skipGeometry</span><span class="p">:</span>
			<span class="n">geom</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s">&#39;geometry&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">geom</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span>

		<span class="k">if</span> <span class="ow">not</span> <span class="n">skipWindowState</span><span class="p">:</span>
			<span class="n">widget</span><span class="o">.</span><span class="n">restoreState</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s">&#39;windowState&#39;</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">saveState</span><span class="p">()))</span>

	<span class="k">if</span> <span class="n">windowStateOnly</span><span class="p">:</span>
		<span class="k">return</span>

	<span class="n">ignored_names</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">ignore</span><span class="p">:</span>
		<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span>
			<span class="n">ignored_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QObject</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">isValid</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">and</span> <span class="n">widget</span><span class="o">.</span><span class="n">objectName</span><span class="p">():</span>
				<span class="n">ignored_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">objectName</span><span class="p">())</span>

	<span class="n">items</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">widget</span><span class="p">))</span>
	<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ignore</span> <span class="ow">and</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">ignored_names</span><span class="p">)</span> <span class="ow">or</span> <span class="n">item</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">):</span>
			<span class="k">continue</span>
		<span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
		<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QObject</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s">&#39;objectName&#39;</span><span class="p">):</span>
			<span class="n">key</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">objectName</span><span class="p">()</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
				<span class="k">continue</span> <span class="c">#Don&#39;t load un-named objects</span>
			<span class="n">saveLoadState</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">save</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="saveLoadState"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.saveLoadState">[docs]</a><span class="k">def</span> <span class="nf">saveLoadState</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">save</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	How to store/load state for a number of widget types</span>

<span class="sd">	:param settings: settings object to use</span>
<span class="sd">	:type settings: QtCore.QSettings</span>
<span class="sd">	:param widget: widget to save</span>
<span class="sd">	:type widget: QtGui.QWidget</span>
<span class="sd">	:param key: (Optional) key to save it as, uses objectName if None</span>
<span class="sd">	:type key: str</span>
<span class="sd">	:param save: Save if True, Load if False</span>
<span class="sd">	:type save: bool</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="nb">isinstance</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="p">)</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
		<span class="n">key</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">objectName</span><span class="p">()</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
			<span class="k">return</span>

	<span class="n">settings</span><span class="o">.</span><span class="n">beginGroup</span><span class="p">(</span><span class="s">&#39;ControlStates&#39;</span><span class="p">)</span>
	<span class="k">try</span><span class="p">:</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">save</span><span class="p">:</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">settings</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
				<span class="k">return</span>
			<span class="n">value</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s">&#39;false&#39;</span><span class="p">:</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">False</span>
			<span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s">&#39;true&#39;</span><span class="p">:</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">True</span>

		<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">checkState</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAbstractButton</span><span class="p">)</span> <span class="ow">and</span> <span class="n">widget</span><span class="o">.</span><span class="n">isCheckable</span><span class="p">():</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">isChecked</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">index</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">findText</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">index</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">:</span>
					<span class="n">widget</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">findText</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QTextEdit</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">toHtml</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QTabWidget</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QSplitter</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">sizes</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">sizes</span><span class="p">()</span>
				<span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">sizes</span><span class="p">):</span>
					<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">sizes</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setSizes</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">])</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QSpinBox</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDoubleSpinBox</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QSpinBox</span><span class="p">):</span>
					<span class="n">widget</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
				<span class="k">else</span><span class="p">:</span> <span class="n">widget</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDateTimeEdit</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">dateTime</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setDateTime</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCalendarWidget</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">selectedDate</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setSelectedDate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAbstractSlider</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">sliderPosition</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setSliderPosition</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QHeaderView</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">indices</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
				<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">count</span><span class="p">()):</span>
					<span class="n">indices</span><span class="p">[</span><span class="n">widget</span><span class="o">.</span><span class="n">visualIndex</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span> <span class="o">=</span> <span class="n">i</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">saveState</span><span class="p">())</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="o">+</span><span class="s">&#39;_order&#39;</span><span class="p">,</span> <span class="n">indices</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">order</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">key</span><span class="o">+</span><span class="s">&#39;_order&#39;</span><span class="p">)</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">restoreState</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
				<span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">order</span><span class="p">]</span>
				<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">logicalIndex</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">indices</span><span class="p">):</span>
					<span class="n">widget</span><span class="o">.</span><span class="n">moveSection</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">visualIndex</span><span class="p">(</span><span class="n">logicalIndex</span><span class="p">),</span> <span class="n">i</span><span class="p">)</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">)</span> <span class="ow">and</span> <span class="n">widget</span><span class="o">.</span><span class="n">isCheckable</span><span class="p">():</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">isChecked</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QGroupBox</span><span class="p">)</span> <span class="ow">and</span> <span class="n">widget</span><span class="o">.</span><span class="n">isCheckable</span><span class="p">():</span>
			<span class="k">if</span> <span class="n">save</span><span class="p">:</span>
				<span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">isChecked</span><span class="p">())</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
				<span class="n">widget</span><span class="o">.</span><span class="n">toggled</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
	<span class="k">finally</span><span class="p">:</span>
		<span class="n">settings</span><span class="o">.</span><span class="n">endGroup</span><span class="p">()</span>


<span class="c">###-----------------------------------------------------###</span>
<span class="c">###Maya specific helpers, won&#39;t function outside of maya###</span>
<span class="c">###-----------------------------------------------------###</span></div>
<div class="viewcode-block" id="toQtObject"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.toQtObject">[docs]</a><span class="k">def</span> <span class="nf">toQtObject</span><span class="p">(</span><span class="n">mayaName</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Given the name of a Maya UI element of any type, return the corresponding QWidget or QAction.</span>
<span class="sd">	If the object does not exist, returns None</span>

<span class="sd">	:param mayaName: Maya name to get a Qt widget for</span>
<span class="sd">	:type mayaName: str</span>
<span class="sd">	:return: Widget Object</span>
<span class="sd">	:rtype: QtCore.QWidget</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">ptr</span> <span class="o">=</span> <span class="n">apiUI</span><span class="o">.</span><span class="n">MQtUtil</span><span class="o">.</span><span class="n">findControl</span><span class="p">(</span><span class="n">mayaName</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">ptr</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
		<span class="n">ptr</span> <span class="o">=</span> <span class="n">apiUI</span><span class="o">.</span><span class="n">MQtUtil</span><span class="o">.</span><span class="n">findLayout</span><span class="p">(</span><span class="n">mayaName</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">ptr</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
			<span class="n">ptr</span> <span class="o">=</span> <span class="n">apiUI</span><span class="o">.</span><span class="n">MQtUtil</span><span class="o">.</span><span class="n">findMenuItem</span><span class="p">(</span><span class="n">mayaName</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">wrapinstance</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="getMayaWindow"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.getMayaWindow">[docs]</a><span class="k">def</span> <span class="nf">getMayaWindow</span><span class="p">():</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Get the maya main window as a QMainWindow instance</span>

<span class="sd">	:return: MainWindow instance</span>
<span class="sd">	:rtype: QtGui.QMainWindow</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">try</span><span class="p">:</span>
		<span class="n">ptr</span> <span class="o">=</span> <span class="n">apiUI</span><span class="o">.</span><span class="n">MQtUtil</span><span class="o">.</span><span class="n">mainWindow</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">wrapinstance</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
	<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
		<span class="k">return</span> <span class="bp">None</span>

</div>
<div class="viewcode-block" id="widgetToMayaName"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.widgetToMayaName">[docs]</a><span class="k">def</span> <span class="nf">widgetToMayaName</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Return the maya full ui path to the given Qt widget</span>

<span class="sd">	:param widget: Qt widget to get a Maya path for if possible</span>
<span class="sd">	:type widget: QtGui.QWiget or QtCore.QObject</span>
<span class="sd">	:return: Maya UI path, or None</span>
<span class="sd">	:rtype: str</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">return</span> <span class="n">apiUI</span><span class="o">.</span><span class="n">MQtUtil</span><span class="o">.</span><span class="n">fullName</span><span class="p">(</span><span class="n">unwrapinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">))</span>

</div>
<div class="viewcode-block" id="getParentWidget"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.getParentWidget">[docs]</a><span class="k">def</span> <span class="nf">getParentWidget</span><span class="p">(</span><span class="n">widget</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Take a given QWidget and return it&#39;s Maya UI parent</span>

<span class="sd">	:param widget: widget to get parent for</span>
<span class="sd">	:type widget: QtGui.QWidget</span>
<span class="sd">	:return: Parent widget or None</span>
<span class="sd">	:rtype: QtGui.QWidget</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">ptr</span> <span class="o">=</span> <span class="n">apiUI</span><span class="o">.</span><span class="n">MQtUtil</span><span class="o">.</span><span class="n">getParent</span><span class="p">(</span><span class="n">unwrapinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">))</span>
	<span class="k">return</span> <span class="n">wrapinstance</span><span class="p">(</span><span class="nb">long</span><span class="p">(</span><span class="n">ptr</span><span class="p">))</span>


<span class="c">###------------------------------------------------###</span>
<span class="c">###InitialSettings object for resetSettings support###</span>
<span class="c">###------------------------------------------------###</span></div>
<div class="viewcode-block" id="InitialSettings"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.InitialSettings">[docs]</a><span class="k">class</span> <span class="nc">InitialSettings</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	A python dictionary with a similar API to QSettings in order to store</span>
<span class="sd">	 a backup of the initial form settings when using loadUiFile</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">InitialSettings</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_group</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="InitialSettings.getGroupKey"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.InitialSettings.getGroupKey">[docs]</a>	<span class="k">def</span> <span class="nf">getGroupKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
		<span class="k">return</span> <span class="s">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_group</span><span class="o">+</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="InitialSettings.setValue"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.InitialSettings.setValue">[docs]</a>	<span class="k">def</span> <span class="nf">setValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">getGroupKey</span><span class="p">(</span><span class="n">key</span><span class="p">)]</span> <span class="o">=</span> <span class="n">value</span>
</div>
<div class="viewcode-block" id="InitialSettings.value"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.InitialSettings.value">[docs]</a>	<span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getGroupKey</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">default</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="InitialSettings.contains"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.InitialSettings.contains">[docs]</a>	<span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getGroupKey</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="InitialSettings.beginGroup"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.InitialSettings.beginGroup">[docs]</a>	<span class="k">def</span> <span class="nf">beginGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">groupName</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_group</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">groupName</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="InitialSettings.endGroup"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.InitialSettings.endGroup">[docs]</a>	<span class="k">def</span> <span class="nf">endGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_group</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="InitialSettings.group"><a class="viewcode-back" href="../../../mutil/lib/qt.html#mutil.lib.qt.InitialSettings.group">[docs]</a>	<span class="k">def</span> <span class="nf">group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="s">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_group</span><span class="p">)</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">Maya open source Python/Qt tools 1.0 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Nathan Horne, Danny Wynne.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>